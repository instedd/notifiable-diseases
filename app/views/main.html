<nd-reports-navbar></nd-reports-navbar>

<div class="row report" ng-show="currentReport">
  <!-- BEGIN: Filters panel -->
  <div id="filters" class="col-md-3" ng-controller="FiltersCtrl">
    <div class="well white out condensed">
      <div class="row">
        <div class="col-md-6">
          <strong style="font-size:16px">Filters</strong>
        </div>
        <div class="col-md-6">
          <a class="pull-right" href="javascript:void(0)" ng-click="clearFilters()" ng-show="currentReport.filters.length > 0">
            Clear all
          </a>
        </div>
      </div>
      <hr/>
      <div>
        <strong>All cases</strong>
      </div>
      <div ng-repeat="filter in currentReport.filters">
        <hr/>
        <div class="row">
          <div class="col-md-6">
            <strong>{{ filter.description }}</strong>
          </div>
          <div class="col-md-6">
            <a class="pull-right" href="javascript:void(0)" ng-click="$parent.removeFilterByIndex($index)">remove</a>
          </div>
        </div>
        <div ng-include src="filterTemplateFor(filter)"></div>
      </div>
      <hr/>
      <div>
        <a href="javascript:void(0);" ng-click="addNewFilterIsCollapsed = !addNewFilterIsCollapsed">Add new filter</a>
        <div collapse="addNewFilterIsCollapsed">
          <ul>
            <li><a href="javascript:void(0);" ng-click="addFilter('Date')">Date</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="javascript:void(0);" ng-click="deleteReport()">Delete this report</a>
  </div>
  <!-- END: Filters panel -->

  <!-- BEGIN: Charts -->
  <div class="col-md-7" ng-controller="ChartsCtrl">
    <div class="row" ng-repeat="chart in currentReport.charts">
      <div class='col-md-11'>
        <div ng-include src="chartTemplateFor(chart)" ng-controller="ChartCtrl" ng-init="chart=chart;report=currentReport"></div>
      </div>
    </div>
    <div>
      <a href="javascript:void(0);" ng-click="addNewChartIsCollapsed = !addNewChartIsCollapsed">+ Add new visualization</a>
      <div collapse="addNewChartIsCollapsed">
        <ul>
          <li><a href="javascript:void(0);" ng-click="addChart('Trendline')">Trendline</a></li>
        </ul>
      </div>
    </div>
  </div>
  <!-- END: Charts -->
</div>
